<?xml version="1.0" encoding="utf-8" ?>
<ContentPage
    x:Class="SyndicApp.Mobile.Views.Batiments.BatimentEditPage"
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    xmlns:layout="clr-namespace:SyndicApp.Mobile.Views.Layout"
    Title="Modifier bâtiment"
    Shell.NavBarIsVisible="False"
    BackgroundColor="White">

    <ContentPage.Resources>

        <Color x:Key="BodyText">#111827</Color>
        <Color x:Key="EntryBg">#F3F4F6</Color>
        <Color x:Key="EntryBorder">#E5E7EB</Color>

        <Style TargetType="Label">
            <Setter Property="TextColor" Value="{StaticResource BodyText}" />
        </Style>

        <!-- Style ENTRY -->
        <Style TargetType="Entry">
            <Setter Property="TextColor" Value="#111827"/>
            <Setter Property="PlaceholderColor" Value="#9CA3AF"/>
            <Setter Property="BackgroundColor" Value="Transparent"/>
            <Setter Property="HeightRequest" Value="44"/>
            <Setter Property="Margin" Value="0,4,0,12"/>
        </Style>

        <!-- Style PICKER -->
        <Style TargetType="Picker">
            <Setter Property="TextColor" Value="#111827"/>
            <Setter Property="BackgroundColor" Value="{StaticResource EntryBg}"/>
            <Setter Property="HeightRequest" Value="44"/>
            <Setter Property="Margin" Value="0,4,0,12"/>
        </Style>

    </ContentPage.Resources>


    <layout:RoleDrawerLayout>
        <layout:RoleDrawerLayout.MainContent>

            <ScrollView>
                <VerticalStackLayout Padding="16" Spacing="12">


                    <!-- NOM -->
                    <Label Text="Nom du bâtiment" FontAttributes="Bold"/>
                    <Border Stroke="{StaticResource EntryBorder}"
                            StrokeThickness="1"
                            BackgroundColor="{StaticResource EntryBg}"
                            StrokeShape="RoundRectangle 8">
                        <Entry Text="{Binding Nom}" Placeholder="Bloc A / Tour 1"/>
                    </Border>


                    <!-- BLOC -->
                    <Label Text="Bloc" FontAttributes="Bold"/>
                    <Border Stroke="{StaticResource EntryBorder}"
                            StrokeThickness="1"
                            BackgroundColor="{StaticResource EntryBg}"
                            StrokeShape="RoundRectangle 8">
                        <Entry Text="{Binding Bloc}" Placeholder="A / B / C..."/>
                    </Border>


                    <!-- RÉSIDENCE -->
                    <Label Text="Résidence" FontAttributes="Bold"/>
                    <Picker ItemsSource="{Binding Residences}"
                            ItemDisplayBinding="{Binding Nom}"
                            SelectedItem="{Binding SelectedResidence}" />


                    <!-- NB ÉTAGES -->
                    <Label Text="Nombre d'étages" FontAttributes="Bold"/>
                    <Border Stroke="{StaticResource EntryBorder}"
                            StrokeThickness="1"
                            BackgroundColor="{StaticResource EntryBg}"
                            StrokeShape="RoundRectangle 8">
                        <Entry Text="{Binding NbEtages}"
                               Keyboard="Numeric"
                               Placeholder="Ex : 5"/>
                    </Border>


                    <!-- RESPONSABLE -->
                    <Label Text="Responsable" FontAttributes="Bold"/>
                    <Border Stroke="{StaticResource EntryBorder}"
                            StrokeThickness="1"
                            BackgroundColor="{StaticResource EntryBg}"
                            StrokeShape="RoundRectangle 8">
                        <Entry Text="{Binding ResponsableNom}"
                               Placeholder="Nom du responsable"/>
                    </Border>


                    <!-- ASCENSEUR -->
                    <Label Text="Ascenseur" FontAttributes="Bold"/>
                    <Switch IsToggled="{Binding HasAscenseur}"/>


                    <!-- ANNÉE -->
                    <Label Text="Année de construction" FontAttributes="Bold"/>
                    <Border Stroke="{StaticResource EntryBorder}"
                            StrokeThickness="1"
                            BackgroundColor="{StaticResource EntryBg}"
                            StrokeShape="RoundRectangle 8">
                        <Entry Text="{Binding AnneeConstruction}"
                               Keyboard="Numeric"
                               Placeholder="Ex : 1998"/>
                    </Border>


                    <!-- CODE ACCÈS -->
                    <Label Text="Code d’accès" FontAttributes="Bold"/>
                    <Border Stroke="{StaticResource EntryBorder}"
                            StrokeThickness="1"
                            BackgroundColor="{StaticResource EntryBg}"
                            StrokeShape="RoundRectangle 8">
                        <Entry Text="{Binding CodeAcces}"
                               Placeholder="1523A / #4590"/>
                    </Border>


                    <!-- BUTTONS -->
                    <Grid ColumnDefinitions="*,*,*" ColumnSpacing="14" Margin="0,20,0,0">

                        <Button Text="Enregistrer"
                                BackgroundColor="#2563EB"
                                TextColor="White"
                                CornerRadius="12"
                                Command="{Binding SaveCommand}" />

                        <Button Grid.Column="1"
                                Text="Annuler"
                                BackgroundColor="#E5E7EB"
                                TextColor="#111827"
                                CornerRadius="12"
                                Command="{Binding CancelCommand}" />

                        <Button Grid.Column="2"
                                Text="Retour"
                                BackgroundColor="#F3F4F6"
                                TextColor="#111827"
                                CornerRadius="12"
                                Clicked="Back_Clicked" />

                    </Grid>

                </VerticalStackLayout>
            </ScrollView>

        </layout:RoleDrawerLayout.MainContent>
    </layout:RoleDrawerLayout>

</ContentPage>

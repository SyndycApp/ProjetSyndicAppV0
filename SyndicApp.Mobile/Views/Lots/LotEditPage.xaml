<?xml version="1.0" encoding="utf-8" ?>
<ContentPage
    x:Class="SyndicApp.Mobile.Views.Lots.LotEditPage"
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    xmlns:layout="clr-namespace:SyndicApp.Mobile.Views.Layout"
    Shell.NavBarIsVisible="False"
    Title="Modifier Lot"
    BackgroundColor="White">

    <ContentPage.Resources>
        <Color x:Key="BodyText">#111827</Color>
        <Style TargetType="Label">
            <Setter Property="TextColor" Value="{StaticResource BodyText}" />
        </Style>
    </ContentPage.Resources>

    <layout:RoleDrawerLayout>
        <layout:RoleDrawerLayout.MainContent>

            <Grid BackgroundColor="White">
                <ScrollView>
                    <VerticalStackLayout Padding="16" Spacing="14">

                        <Label Text="Numéro du lot" FontAttributes="Bold" />
                        <Entry Text="{Binding NumeroLot}"
                               PlaceholderColor="#9CA3AF" />

                        <Label Text="Type" FontAttributes="Bold" />
                        <Entry Text="{Binding Type}"
                               PlaceholderColor="#9CA3AF" />

                        <Label Text="Surface" FontAttributes="Bold" />
                        <Entry Keyboard="Numeric"
                               Text="{Binding Surface}"
                               PlaceholderColor="#9CA3AF" />

                        <Label Text="Résidence" FontAttributes="Bold" />
                        <Picker ItemsSource="{Binding Residences}"
                                ItemDisplayBinding="{Binding Nom}"
                                SelectedItem="{Binding SelectedResidence}"
                                SelectedIndexChanged="ResidenceChanged" />

                        <Label Text="Bâtiment" FontAttributes="Bold" />
                        <Picker ItemsSource="{Binding Batiments}"
                                ItemDisplayBinding="{Binding Nom}"
                                SelectedItem="{Binding SelectedBatiment}" />

                        <Grid ColumnDefinitions="*,*,*"
                              ColumnSpacing="12"
                              Margin="0,10,0,0">
                            <Button Text="Enregistrer"
                                    Command="{Binding SaveCommand}" />
                            <Button Grid.Column="1"
                                    Text="Annuler"
                                    Command="{Binding CancelCommand}" />
                            <Button Grid.Column="2"
                                    Text="Retour"
                                    Clicked="Back_Clicked" />
                        </Grid>

                    </VerticalStackLayout>
                </ScrollView>
            </Grid>

        </layout:RoleDrawerLayout.MainContent>
    </layout:RoleDrawerLayout>
</ContentPage>

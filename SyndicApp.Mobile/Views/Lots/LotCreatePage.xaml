<?xml version="1.0" encoding="utf-8" ?>
<ContentPage
    x:Class="SyndicApp.Mobile.Views.Lots.LotCreatePage"
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    xmlns:layout="clr-namespace:SyndicApp.Mobile.Views.Layout"
    Shell.NavBarIsVisible="False"
    Title="Créer un lot"
    BackgroundColor="White">

    <ContentPage.Resources>
        <Color x:Key="BodyText">#111827</Color>
        <Style TargetType="Label">
            <Setter Property="TextColor" Value="{StaticResource BodyText}" />
        </Style>
    </ContentPage.Resources>

    <layout:RoleDrawerLayout>
        <layout:RoleDrawerLayout.MainContent>

            <Grid BackgroundColor="White">
                <ScrollView>
                    <VerticalStackLayout Padding="16" Spacing="14">

                        <Label Text="Numéro du lot" FontAttributes="Bold" />
                        <Entry Text="{Binding NumeroLot}"
                               Placeholder="Ex: A12"
                               PlaceholderColor="#9CA3AF" />

                        <Label Text="Type" FontAttributes="Bold" />
                        <Entry Text="{Binding Type}"
                               Placeholder="Appartement, Garage..."
                               PlaceholderColor="#9CA3AF" />

                        <Label Text="Surface" FontAttributes="Bold" />
                        <Entry Keyboard="Numeric"
                               Text="{Binding Surface}"
                               Placeholder="m²"
                               PlaceholderColor="#9CA3AF" />

                        <Label Text="Résidence" FontAttributes="Bold" />
                        <Picker ItemsSource="{Binding Residences}"
                                ItemDisplayBinding="{Binding Nom}"
                                SelectedItem="{Binding SelectedResidence}"
                                SelectedIndexChanged="ResidenceChanged" />

                        <Label Text="Bâtiment" FontAttributes="Bold" />
                        <Picker ItemsSource="{Binding Batiments}"
                                ItemDisplayBinding="{Binding Nom}"
                                SelectedItem="{Binding SelectedBatiment}" />

                        <Grid ColumnDefinitions="*,*"
                              ColumnSpacing="12"
                              Margin="0,16,0,0">
                            <Button Text="Annuler"
                                    Command="{Binding CancelCommand}" />
                            <Button Grid.Column="1"
                                    Text="Créer"
                                    BackgroundColor="#2563EB"
                                    TextColor="White"
                                    Command="{Binding CreateCommand}" />
                        </Grid>

                    </VerticalStackLayout>
                </ScrollView>
            </Grid>

        </layout:RoleDrawerLayout.MainContent>
    </layout:RoleDrawerLayout>
</ContentPage>
